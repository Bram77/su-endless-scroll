/* su-endless-scroll - v1.1.0 - 2015-09-04 */
var mod=angular.module("suEndlessScroll",[]);mod.directive("suEndlessScroll",["$window",function(a){return{restrict:"A",scope:{suEndlessScroll:"=",suEndlessScrollOutput:"=",suEndlessScrollOffset:"=",suEndlessScrollLimit:"=",suEndlessScrollAutoCheck:"="},link:function(m,d,k){var i,h,f;var h=angular.element(d).scrollHeight;var n=false;var c=1000;m.suEndlessScroll=(!m.suEndlessScroll)?[]:m.suEndlessScroll;m.suEndlessScrollOutput=(!m.suEndlessScrollOutput)?[]:m.suEndlessScrollOutput;m.suEndlessScrollOffset=(!m.suEndlessScrollOffset)?30:m.suEndlessScrollOffset;m.suEndlessScrollLimit=(!m.suEndlessScrollLimit)?20:m.suEndlessScrollLimit;m.suEndlessScrollAutoCheck=(m.suEndlessScrollAutoCheck===undefined)?true:m.suEndlessScrollAutoCheck;function g(){i=d.outerHeight();f=(parseInt(i)+parseInt(m.suEndlessScrollOffset));h=angular.element(d).scrollHeight}function e(p){var o=(p.scrollHeight-p.scrollTop);if(h!==p.scrollHeight){h=p.scrollHeight;n=false}if(o<=f&&!n){j();n=true}}function j(q){if(q){angular.element(d)[0].scrollTop=0;m.suEndlessScrollOutput=[]}if(!m.suEndlessScroll||!m.suEndlessScroll[m.suEndlessScrollOutput.length]){return}var r=m.suEndlessScrollOutput.length;for(var p=0;p<m.suEndlessScrollLimit;p++){var o=((r)+p);if(m.suEndlessScroll[o]){m.suEndlessScrollOutput.push(m.suEndlessScroll[o])}}if(!m.$parent.$$phase){m.$parent.$digest()}}function b(){if(m.suEndlessScrollAutoCheck){setInterval(function(){e(angular.element(d))},c)}}function l(){g();b();angular.element(d).bind("scroll",function(){e(this)});angular.element(a).bind("resize",function(){g();e(angular.element(d))});m.$watch("suEndlessScroll",function(o,p){if(o){j(true)}},true)}l()}}}]);